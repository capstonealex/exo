\hypertarget{_c_o__command_8c}{}\doxysection{/\+Users/williamcampbell/\+Documents/\+Git\+Hub/exo/\+A\+L\+E\+X/src/\+C\+O\+\_\+command.c File Reference}
\label{_c_o__command_8c}\index{/Users/williamcampbell/Documents/GitHub/exo/ALEX/src/CO\_command.c@{/Users/williamcampbell/Documents/GitHub/exo/ALEX/src/CO\_command.c}}
{\ttfamily \#include \char`\"{}C\+A\+Nopen.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}C\+O\+\_\+command.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}C\+O\+\_\+comm\+\_\+helpers.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}C\+O\+\_\+master.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include $<$endian.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$sys/un.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_c_o__command_8c_a31e2f338dcb33ccb8248e22a7a1a27da}{C\+O\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+D\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}~100000
\item 
\#define \mbox{\hyperlink{_c_o__command_8c_a6a9ce57a614712d5bee6f342dd4c37a6}{S\+T\+R\+I\+N\+G\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}~(\mbox{\hyperlink{_c_o__command_8c_a31e2f338dcb33ccb8248e22a7a1a27da}{C\+O\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+D\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}} $\ast$ 4 + 100)
\item 
\#define \mbox{\hyperlink{_c_o__command_8c_a848750161824c5aa011ed0442ec0863c}{L\+I\+S\+T\+E\+N\+\_\+\+B\+A\+C\+K\+L\+OG}}~50
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void $\ast$ \mbox{\hyperlink{_c_o__command_8c_a7209c53b2b896e60fd8096be91a9429b}{command\+\_\+thread}} (void $\ast$arg)
\item 
static void \mbox{\hyperlink{_c_o__command_8c_a1290a91e18a562e5e9b28d631fd2192e}{command\+\_\+process}} (int fd, char $\ast$command, size\+\_\+t command\+Length)
\item 
int \mbox{\hyperlink{_c_o__command_8c_a2b0f8a8674ff9743cb8cbc2d5416cfba}{C\+O\+\_\+command\+\_\+init}} (void)
\item 
int \mbox{\hyperlink{_c_o__command_8c_a88a06cd99e058822e86d50adb16a7ec0}{C\+O\+\_\+command\+\_\+clear}} (void)
\item 
void \mbox{\hyperlink{_c_o__command_8c_a15cb78e8fd966264e7055daa65b9e6f2}{cancomm\+\_\+socket\+Free}} (char $\ast$command, char $\ast$\mbox{\hyperlink{application_8cpp_adcefcdf2709214f58a40ed80e1b7f80a}{ret}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{_c_o__command_8c_a47675069c3b188d1913063843c2f1b07}{C\+O\+\_\+command\+\_\+socket\+Path}} = \char`\"{}/tmp/C\+O\+\_\+command\+\_\+socket\char`\"{}
\item 
static pthread\+\_\+t \mbox{\hyperlink{_c_o__command_8c_afa5a94fc64eacba67bc7512bb96a8caa}{command\+\_\+thread\+\_\+id}}
\item 
static int \mbox{\hyperlink{_c_o__command_8c_a4c94553aa16b86d407db5b2e7a65e521}{fd\+Socket}}
\item 
static uint16\+\_\+t \mbox{\hyperlink{_c_o__command_8c_a64c4d490da6c35ac43e06ed98f856b78}{comm\+\_\+net}} = 1
\item 
static uint8\+\_\+t \mbox{\hyperlink{_c_o__command_8c_ad8c0dcd84d2ec0589a5f00cdbd5b5827}{comm\+\_\+node\+\_\+default}} = 0x\+FF
\item 
static uint16\+\_\+t \mbox{\hyperlink{_c_o__command_8c_a3ca1c5930a07f919a36f61ee3def89ba}{S\+D\+Otimeout\+Time}} = 500
\item 
static uint8\+\_\+t \mbox{\hyperlink{_c_o__command_8c_a0b4b4a72acd90c2cec67378ec0f262bd}{block\+Transfer\+Enable}} = 0
\item 
static volatile int \mbox{\hyperlink{_c_o__command_8c_a6fb54b6c667887712c193ad515cc0529}{end\+Program}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{_c_o__command_8c_a31e2f338dcb33ccb8248e22a7a1a27da}\label{_c_o__command_8c_a31e2f338dcb33ccb8248e22a7a1a27da}} 
\index{CO\_command.c@{CO\_command.c}!CO\_COMMAND\_SDO\_BUFFER\_SIZE@{CO\_COMMAND\_SDO\_BUFFER\_SIZE}}
\index{CO\_COMMAND\_SDO\_BUFFER\_SIZE@{CO\_COMMAND\_SDO\_BUFFER\_SIZE}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{CO\_COMMAND\_SDO\_BUFFER\_SIZE}{CO\_COMMAND\_SDO\_BUFFER\_SIZE}}
{\footnotesize\ttfamily \#define C\+O\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+D\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE~100000}

\mbox{\Hypertarget{_c_o__command_8c_a848750161824c5aa011ed0442ec0863c}\label{_c_o__command_8c_a848750161824c5aa011ed0442ec0863c}} 
\index{CO\_command.c@{CO\_command.c}!LISTEN\_BACKLOG@{LISTEN\_BACKLOG}}
\index{LISTEN\_BACKLOG@{LISTEN\_BACKLOG}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{LISTEN\_BACKLOG}{LISTEN\_BACKLOG}}
{\footnotesize\ttfamily \#define L\+I\+S\+T\+E\+N\+\_\+\+B\+A\+C\+K\+L\+OG~50}

\mbox{\Hypertarget{_c_o__command_8c_a6a9ce57a614712d5bee6f342dd4c37a6}\label{_c_o__command_8c_a6a9ce57a614712d5bee6f342dd4c37a6}} 
\index{CO\_command.c@{CO\_command.c}!STRING\_BUFFER\_SIZE@{STRING\_BUFFER\_SIZE}}
\index{STRING\_BUFFER\_SIZE@{STRING\_BUFFER\_SIZE}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{STRING\_BUFFER\_SIZE}{STRING\_BUFFER\_SIZE}}
{\footnotesize\ttfamily \#define S\+T\+R\+I\+N\+G\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE~(\mbox{\hyperlink{_c_o__command_8c_a31e2f338dcb33ccb8248e22a7a1a27da}{C\+O\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+D\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}} $\ast$ 4 + 100)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_c_o__command_8c_a15cb78e8fd966264e7055daa65b9e6f2}\label{_c_o__command_8c_a15cb78e8fd966264e7055daa65b9e6f2}} 
\index{CO\_command.c@{CO\_command.c}!cancomm\_socketFree@{cancomm\_socketFree}}
\index{cancomm\_socketFree@{cancomm\_socketFree}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{cancomm\_socketFree()}{cancomm\_socketFree()}}
{\footnotesize\ttfamily void cancomm\+\_\+socket\+Free (\begin{DoxyParamCaption}\item[{char $\ast$}]{command,  }\item[{char $\ast$}]{ret }\end{DoxyParamCaption})}

Allow main thread to send S\+DO messages to nodes

\begin{DoxyReturn}{Returns}
message recieved on success 

error on failure 
\end{DoxyReturn}
\mbox{\Hypertarget{_c_o__command_8c_a88a06cd99e058822e86d50adb16a7ec0}\label{_c_o__command_8c_a88a06cd99e058822e86d50adb16a7ec0}} 
\index{CO\_command.c@{CO\_command.c}!CO\_command\_clear@{CO\_command\_clear}}
\index{CO\_command\_clear@{CO\_command\_clear}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{CO\_command\_clear()}{CO\_command\_clear()}}
{\footnotesize\ttfamily int C\+O\+\_\+command\+\_\+clear (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Terminate thread and remove socket.

\begin{DoxyReturn}{Returns}
0 on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{_c_o__command_8c_a2b0f8a8674ff9743cb8cbc2d5416cfba}\label{_c_o__command_8c_a2b0f8a8674ff9743cb8cbc2d5416cfba}} 
\index{CO\_command.c@{CO\_command.c}!CO\_command\_init@{CO\_command\_init}}
\index{CO\_command\_init@{CO\_command\_init}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{CO\_command\_init()}{CO\_command\_init()}}
{\footnotesize\ttfamily int C\+O\+\_\+command\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialize thread and create socket for command interface.

Make sure, that global variable CO was properly initialized before this call.

\begin{DoxyReturn}{Returns}
0 on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{_c_o__command_8c_a1290a91e18a562e5e9b28d631fd2192e}\label{_c_o__command_8c_a1290a91e18a562e5e9b28d631fd2192e}} 
\index{CO\_command.c@{CO\_command.c}!command\_process@{command\_process}}
\index{command\_process@{command\_process}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{command\_process()}{command\_process()}}
{\footnotesize\ttfamily static void command\+\_\+process (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{char $\ast$}]{command,  }\item[{size\+\_\+t}]{command\+Length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_a7209c53b2b896e60fd8096be91a9429b}\label{_c_o__command_8c_a7209c53b2b896e60fd8096be91a9429b}} 
\index{CO\_command.c@{CO\_command.c}!command\_thread@{command\_thread}}
\index{command\_thread@{command\_thread}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{command\_thread()}{command\_thread()}}
{\footnotesize\ttfamily static void $\ast$ command\+\_\+thread (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{_c_o__command_8c_a0b4b4a72acd90c2cec67378ec0f262bd}\label{_c_o__command_8c_a0b4b4a72acd90c2cec67378ec0f262bd}} 
\index{CO\_command.c@{CO\_command.c}!blockTransferEnable@{blockTransferEnable}}
\index{blockTransferEnable@{blockTransferEnable}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{blockTransferEnable}{blockTransferEnable}}
{\footnotesize\ttfamily uint8\+\_\+t block\+Transfer\+Enable = 0\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_a47675069c3b188d1913063843c2f1b07}\label{_c_o__command_8c_a47675069c3b188d1913063843c2f1b07}} 
\index{CO\_command.c@{CO\_command.c}!CO\_command\_socketPath@{CO\_command\_socketPath}}
\index{CO\_command\_socketPath@{CO\_command\_socketPath}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{CO\_command\_socketPath}{CO\_command\_socketPath}}
{\footnotesize\ttfamily char$\ast$ C\+O\+\_\+command\+\_\+socket\+Path = \char`\"{}/tmp/C\+O\+\_\+command\+\_\+socket\char`\"{}}

Path for local type socket. External process can access command interface over this socket. By default its path is \char`\"{}/tmp/\+C\+O\+\_\+command\+\_\+socket\char`\"{}. \mbox{\Hypertarget{_c_o__command_8c_a64c4d490da6c35ac43e06ed98f856b78}\label{_c_o__command_8c_a64c4d490da6c35ac43e06ed98f856b78}} 
\index{CO\_command.c@{CO\_command.c}!comm\_net@{comm\_net}}
\index{comm\_net@{comm\_net}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{comm\_net}{comm\_net}}
{\footnotesize\ttfamily uint16\+\_\+t comm\+\_\+net = 1\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_ad8c0dcd84d2ec0589a5f00cdbd5b5827}\label{_c_o__command_8c_ad8c0dcd84d2ec0589a5f00cdbd5b5827}} 
\index{CO\_command.c@{CO\_command.c}!comm\_node\_default@{comm\_node\_default}}
\index{comm\_node\_default@{comm\_node\_default}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{comm\_node\_default}{comm\_node\_default}}
{\footnotesize\ttfamily uint8\+\_\+t comm\+\_\+node\+\_\+default = 0x\+FF\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_afa5a94fc64eacba67bc7512bb96a8caa}\label{_c_o__command_8c_afa5a94fc64eacba67bc7512bb96a8caa}} 
\index{CO\_command.c@{CO\_command.c}!command\_thread\_id@{command\_thread\_id}}
\index{command\_thread\_id@{command\_thread\_id}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{command\_thread\_id}{command\_thread\_id}}
{\footnotesize\ttfamily pthread\+\_\+t command\+\_\+thread\+\_\+id\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_a6fb54b6c667887712c193ad515cc0529}\label{_c_o__command_8c_a6fb54b6c667887712c193ad515cc0529}} 
\index{CO\_command.c@{CO\_command.c}!endProgram@{endProgram}}
\index{endProgram@{endProgram}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{endProgram}{endProgram}}
{\footnotesize\ttfamily volatile int end\+Program = 0\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_a4c94553aa16b86d407db5b2e7a65e521}\label{_c_o__command_8c_a4c94553aa16b86d407db5b2e7a65e521}} 
\index{CO\_command.c@{CO\_command.c}!fdSocket@{fdSocket}}
\index{fdSocket@{fdSocket}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{fdSocket}{fdSocket}}
{\footnotesize\ttfamily int fd\+Socket\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{_c_o__command_8c_a3ca1c5930a07f919a36f61ee3def89ba}\label{_c_o__command_8c_a3ca1c5930a07f919a36f61ee3def89ba}} 
\index{CO\_command.c@{CO\_command.c}!SDOtimeoutTime@{SDOtimeoutTime}}
\index{SDOtimeoutTime@{SDOtimeoutTime}!CO\_command.c@{CO\_command.c}}
\doxysubsubsection{\texorpdfstring{SDOtimeoutTime}{SDOtimeoutTime}}
{\footnotesize\ttfamily uint16\+\_\+t S\+D\+Otimeout\+Time = 500\hspace{0.3cm}{\ttfamily [static]}}

